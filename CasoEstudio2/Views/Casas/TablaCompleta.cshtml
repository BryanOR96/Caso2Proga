@model List<CasoEstudio2.BaseDatos.CasasSistema>
@{
    ViewBag.Title = "Consulta de Casas";
}
<div class="text-center">
    <h2 class="text-primary">Consulta de Casas</h2>
</div>
<br />
<br />
<div class="row justify-content-center">
    <div class="col-11">
        <table class="table table-bordered table-hover table-striped text-center bg-light">
            <thead class="thead-dark">
                <tr>
                    <th>Descripción</th>
                    <th>Precio</th>
                    <th>Usuario Alquiler</th>
                    <th>Estado</th>
                    <th>Fecha de Alquiler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.DescripcionCasa</td>
                        <td>@item.PrecioCasa</td>
                        <td>@item.UsuarioAlquiler</td>
                        <td>
                            @{
                                var estado = string.IsNullOrEmpty(item.UsuarioAlquiler) && item.FechaAlquiler == null ? "Disponible" : "Reservado";
                            }
                            @estado
                        </td>
                        <td>
                            @(item.FechaAlquiler.HasValue ? item.FechaAlquiler.Value.ToString("dd/MM/yyyy") : string.Empty)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
<div class="text-center mt-3">
    <a href="@Url.Action("ConsultaCasas", "Casas")" class="btn btn-primary">Volver</a>
</div>